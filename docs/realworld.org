* JUCE host

1. create
   1. contructEffect
      1. calls =VSTPluginMain= to get a plugin
      2. checks =effect->magic=
      3. checks =effect->resvd2!=0=
   2. set =effect->resvd2= to 0
   3. calls =effIdentify(0,0,NULL,0.))= (ignores result)
   4. calls =effSetSampleRate(0,0,NULL,sampleRate)=
   5. calls =effSetBlockSize(0,blockSize,NULL, 0.f)=
   6. calls =effOpen(0,0,NULL,0.))=
   7. queryBusIO
      1. calls =effSetSpeakerArrangement(0, ?, ?, 0.f)=
      2. getSpeakerArrangementWrapper
         1. ?
      3. =effGetInputProperties(ch=0..n, 0, &pinProps, 0.0f)=
      4. =effGetOutputProperties(ch=0..n, 0, &pinProps, 0.0f)=
   8. VSTPluginInstance
      1. =effCanBeAutomated(param=0..n, 0, 0, 0, 0)=


* REAPER host

#+BEGIN_SRC C
/* init */
effect->dispatcher(effOpen, 0, 0, (nil), 0.000000);
effect->dispatcher(effSetSampleRate, 0, 0, (nil), 44100.000000);
effect->dispatcher(effSetBlockSize, 0, 512, (nil), 0.000000);
effect->dispatcher(effGetEffectName, 0, 0, 0x7ffcf7237fc0, 0.000000);
effect->dispatcher(effGetVendorString, 0, 0, 0x7ffcf7237fc0, 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab4617, 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab4af0, 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab4670, 0.000000);
effect->dispatcher(effGetVstVersion, 0, 0, (nil), 0.000000);
effect->dispatcher(12, 0, 1, (nil), 0.000000);
effect->dispatcher(71, 0, 0, (nil), 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab4684, 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab4695, 0.000000);
effect->dispatcher(35, 0, 0, (nil), 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab46a9, 0.000000);
effect->dispatcher(effCanDo, 0, 0, 0xab46b7, 0.000000);
effect->dispatcher(effGetProgram, 0, 0, (nil), 0.000000);
effect->dispatcher(effGetChunk, 0, 0, 0x7ffcf722fd10, 0.000000);
effect->dispatcher(effSetProgram, 0, 0, (nil), 0.000000);
effect->dispatcher(effGetProgramName, 0, 0, 0x7ffcf7237dc0, 0.000000);
effect->dispatcher(effGetProgram, 0, 0, (nil), 0.000000);

/* start playback */
effect->dispatcher(12, 0, 0, (nil), 0.000000);
effect->dispatcher(12, 0, 1, (nil), 0.000000);

/* de-init */
effect->dispatcher(12, 0, 0, (nil), 0.000000);
effect->dispatcher(12, 0, 1, (nil), 0.000000);
effect->dispatcher(12, 0, 0, (nil), 0.000000);
effect->dispatcher(12, 0, 1, (nil), 0.000000);
effect->dispatcher(72, 0, 0, (nil), 0.000000);
effect->dispatcher(12, 0, 0, (nil), 0.000000);
effect->dispatcher(effClose, 0, 0, (nil), 0.000000);
#+END_SRC
